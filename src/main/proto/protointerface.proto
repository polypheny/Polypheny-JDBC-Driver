syntax = "proto3";

option java_multiple_files = true;
option java_package = "org.polypheny.jdbc";
option java_outer_classname = "ProtoInterface";
option objc_class_prefix = "PI";

package org.polypheny.jdbc;

service ProtoInterface {
  // Connect to server by sending a ConnectionRequest..
  rpc connect(ConnectionRequest) returns (ConnectionReply) {}
}

// Sent by the client to request a connection to the server.
message ConnectionRequest {
  uint32 majorApiVersion = 1;
  uint32 minorApiVersion = 2;
  // UUID generated by the client. Enables the server to identify clients.
  string clientUUID = 3;
}

// Sent by the server as a response to a ConnectionRequest.
// In case of incompatible api versions isCompatible = false and all other fields are empty.
message ConnectionReply {
  bool isCompatible = 1;
  uint32 majorApiVersion = 2;
  uint32 minorApiVersion = 3;
  // UUID generated by the server identifying the connection to the client.
  string connectionUUID = 4;
}
